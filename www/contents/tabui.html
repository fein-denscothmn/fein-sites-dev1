<!DOCTYPE html>
<!-- ●ここから人間用のヘッダー● -->
<html lang="ja">

<head>
 <!-- Meta tags -->
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <meta name="description" content="CSSとJavaScriptの書き方に関するページ。可能な限り、教科書でもよく見るようなコードのみで構成しています。">
 <meta name="keywords" content="個人サイト, CSS, JavaScript, タブ">
 <meta name="robots" content="index, follow">
 <meta property="og:title" content="タブを使ってコンテンツを詰め込む">
 <meta property="og:description" content="CSSの書き方に関するページ。可能な限り、教科書でもよく見るようなコードのみで構成しています。">
 <meta property="og:image" content="../image/アナザーエデンのバディ_ピスケ.png">
 <meta property="og:url" content="https://fein-sites-dev1.ew.r.appspot.com/contents/tabui.html">
 <!-- Favicon -->
 <link rel="apple-touch-icon" sizes="180x180" href="/icons/appleicon.png">
 <link rel="icon" sizes="32x32" href="/favicon.ico" type="image/x-icon">
 <!-- Page Title -->
 <title>タブを使ってコンテンツを詰め込む</title>
 <!-- Manifest -->
 <link rel="manifest" href="/manifest.json">
 <!-- CSS -->
 <link rel="stylesheet" href="/css/style.css">
 <link rel="stylesheet" href="/css/header.css">
 <link rel="stylesheet" href="/css/footer.css">
 <link rel="stylesheet" href="/css/menu.css">
 <link rel="stylesheet" href="/css/feinpan.css">
 <link rel="stylesheet" href="/css/flower.css">
 <link rel="stylesheet" href="/css/feinheadline1.css">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism-tomorrow.min.css">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
 <link rel="preconnect" href="https://fonts.googleapis.com">
 <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
 <link
  href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100..900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap"
  rel="stylesheet">
 <!-- Structured Data -->
 <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "タブを使ってコンテンツを詰め込む",
      "url": "https://fein-sites-dev1.ew.r.appspot.com/contents/tabui.html",
      "logo": "https://fein-sites-dev1.ew.r.appspot.com/image/barracuda.jpeg"
    }
  </script>
 <!-- JavaScript -->
 <script src="/script/underline.js"></script>
 <script src="/script/feinfade.js"></script>
 <script src="/script/feinScroll.js"></script>
 <script src="/script/brython.js"></script>
 <script src="/script/brython_stdlib.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/gsap.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-python.min.js"></script>
 <!-- Service Worker -->
 <script>
  if ('serviceWorker' in navigator) {
   navigator.serviceWorker.register('/service-worker.js')
    .then(registration => {
     console.log('ServiceWorker registration successful with scope: ', registration.scope);
    })
    .catch(error => {
     console.log('ServiceWorker registration failed: ', error);
    });
  }
 </script>
</head>


<body>

 <nav class="den_nav">
  <ul>
   <li><a href="https://fein-sites-dev1.ew.r.appspot.com/"><img src="/menu/mspass.png" alt="このサイトのシンボルマーク"
      class="feinhome"></a></li>
   <li><a href="/" class="animated-link">ホーム</a></li>
   <li><a href="/another-eden/anaden_sitemap.html" class="animated-link">アナザーエデン</a></li>
   <li><a href="/fish/fish_sitemap.html" class="animated-link">アウトドアのエリア</a></li>
   <li><a href="/contents/site_create.html" class="animated-link">個人サイト制作</a></li>
   <li><a href="/contents/protect.html" class="animated-link">AI学習を防ぐ工夫</a></li>
   <li><a href="/contents/rss.html" class="animated-link">更新のお知らせ</a></li>
  </ul>
 </nav>

 <!--レスポンシブデザイン-->
 <div class="feincontainer">

  <!--パンくずリスト-->
  <div>
   <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/">Home（グラスタの場所一覧表〜入手範囲別〜）</a></li>
    <li class="breadcrumb-item"><a href="site_create.html">個人サイト制作：サイトマップ</a></li>
    <li class="breadcrumb-item active" aria-current="page">タブを使ってコンテンツを詰め込む</li>
   </ol>
  </div>

  <div class="search-container">
   <script async src="https://cse.google.com/cse.js?cx=07df877a5cdad4ece">
   </script>
   <div class="gcse-searchbox-only"></div>
  </div>

  <!-- ハンバーガーメニュー -->
  <div class="fden-hamburger-menu">
   <button class="fden-hamburger-button" id="fden-hamburger-button" onclick="toggleMenu()">☰ メニューを開く ▼</button>
   <div class="fden-menu" id="fden-menu">
    <!-- メニュー内容は外部ファイルから読み込む -->
    <div id="fden-menu-content"></div>
   </div>
  </div>
  <script src="../script/menu.js"></script>
  <!-- ハンバーガーメニューここまで -->

  <!--サイトタイトル-->
  <div class="header-frame">
   <div class="header-container">
    <img src="../image/cloudsitetitle.jpg" alt="fein's personal site" class="header-image">
    <div class="header-text">
     <a href="https://fein-sites-dev1.ew.r.appspot.com/">fein's personal site</a>
    </div>
   </div>
  </div>

  <div class="spacer"></div>
  <button id="generate-headings" data-open-text="タブを使ってコンテンツを詰め込むの目次を開く ▼"
   data-close-text="タブを使ってコンテンツを詰め込むの目次を閉じる ▲">タブを使ってコンテンツを詰め込むの目次を開く
   ▼</button><!--目次の自動生成-->
  <div class="spacer"></div>
  <p><a href="site_create.html">個人サイト制作：サイトマップへ戻る</a></p>

  <!-- ●人間用のヘッダーここまで。直下でコンテンツ開始● -->

  <h1 class="background-waveimage-heading"><span>タブを使ってコンテンツを詰め込む</span></h1>

  <p>タブを使ったレイアウトは特に利点が多いです。<br>
   情報を整理し、ユーザーが簡単に必要な情報にアクセスできるようになります。<br>
   一目で全体の構造が分かりやすい。<br>
   ページがすっきりと見えて見た目も良いため、ユーザーが快適に閲覧できます。<br>
   何より直感的な操作がキーポイントかと。<br>
   タブは一貫したナビゲーションを提供して直感的に使えます。<br>
   初めての訪問者でもすぐに操作できます。</p>

  <p>このページでは、そういったタブ式レイアウトを初めとして、ちょっとしたUIの工夫について書いていきます。<br>
   ゆくゆくはjQueryを使ったいろんなパターンとか、掲載していきますよ。</p>

  <h3>このページに関する注意事項</h3>
  <p>当Webサイト作成者は、例示を目的としてマークアップ及びプログラミング例を提供しており、明示または黙示にかかわらず、いかなる責任も負わないものとします。<br>
   このページは、説明されているマークアップ及びプログラミング言語、手順を作成およびデバッグするために使用される各種ツールに読者が精通していることを前提にしています。<br>
   このページは、特定の機能を説明するのに役立つ可能性がありますが、当Webサイト作成者がこれらの例を変更した上で、特定の要件を満たすために追加の機能を提供したり、システムを構築したりすることはできません。<br>
   加えて、この例の手順に従う場合は、読者の各種ファイルを事前にバックアップすることを推奨いたします。</p>

  <h2>タブを作るCSSとJavaScript</h2>
  ライブラリを使うかどうかは、要件や好みによるでしょう。
  無理にどっかのライブラリを使わなくても良いし、ここではまず簡単なコードを紹介していきます。


  <p class="codegra" id="tab_style">タブを作るstyle.css</p>
  <div class="code-container">
   <pre><code class="language-css">
/* タブのコンテナを作成し、タブを横並びに配置 */
.fein {
 display: flex; /* フレックスボックスで配置 */
 border-bottom: 1px solid #ccc; /* 下線を追加 */
}

/* タブのスタイルを定義 */
.tab-fein {
 border: 1px solid #ccc; /* 枠線を追加 */
 padding: 10px 20px; /* 内側の余白を設定 */
 border-radius: 10px 10px 0 0; /* 角を丸める */
 background-color: rgba(173, 216, 230, 0.3); /* 背景色を薄い青に設定 */
 cursor: pointer; /* マウスカーソルをポインターに変更 */
}

/* 最後のタブ以外に右の余白を設定 */
.tab-fein:not(:last-child) {
 margin-right: 5px; /* 右側の余白を5pxに設定 */
}

/* タブにホバーした際のスタイル */
.tab-fein:hover {
 background-color: rgba(173, 216, 230, 0.5); /* 背景色を濃くする */
}

/* アクティブなタブのスタイル */
.tab-fein.active {
 background-color: rgba(173, 216, 230, 0.7); /* より濃い背景色に設定 */
 font-weight: bold; /* 文字を太字に変更 */
 border-bottom: 3px solid #007BFF; /* 下線を青色に変更 */
}

/* タブの内容のスタイルを定義 */
.tab-pane-fein {
 position: absolute; /* 絶対位置に配置 */
 width: 95%; /* 幅を95%に設定 */
 opacity: 0; /* 初期状態は非表示 */
 border: 1px solid #ccc; /* 枠線を追加 */
 padding: 10px; /* 内側の余白を設定 */
 border-radius: 5px; /* 角を丸める */
 box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* 影を追加 */
 transform: translateX(-100%); /* 初期位置を左外に設定 */
 transition: transform 0.5s ease, opacity 0.5s ease; /* トランジションを設定 */
}

/* アクティブなタブの内容を表示 */
.tab-pane-fein.active {
 position: static; /* 通常の配置に変更 */
 opacity: 1; /* 表示 */
 transform: translateX(0); /* 位置をリセット */
}

</code></pre>
  </div>

  <p>
   トランジション（transition）はCSSで要素の状態が変化する際に、その変化を滑らかにアニメーションで表現するためのプロパティです。<br>
   トランジションを使用することで、要素のスタイルが急激に変わるのではなく、段階的に変わるようになります。
  </p>
  <p>このコードでは、タブの内容が切り替わる際に次のようなトランジションが設定されています。</p>

  <div class="code-container">
   <pre><code class="language-css">
transform: translateX(0); /* 位置をリセット */
transition: transform 0.5s ease, opacity 0.5s ease; /* トランジションを設定 */

</code></pre>
  </div>

  <h4>CSSトランジション</h4>

  <p>
   <span class="codecolor">transform: translateX(0);</span><br>
   タブの内容の初期位置を設定しています。<br>
   <span class="codecolor">translateX(-100%)</span>はタブの内容を左に100%ずらし、<span class="codecolor">translateX(0)</span>
   は元の位置に戻します。
  </p>
  <p>
   <span class="codecolor">opacity: 0;</span> と <span class="codecolor">opacity: 1;</span><br>
   タブの内容の表示/非表示を設定しています。<br>
   非アクティブ時は透明（<span class="codecolor">opacity: 0;</span>）、アクティブ時は表示（<span class="codecolor">opacity: 1;</span>）となります。
  </p>
  <p>
   <span class="codecolor">transition: transform 0.5s ease, opacity 0.5s ease;</span><br>
   これがトランジションの設定です。<br>
   <span class="codecolor">transform</span> と <span class="codecolor">opacity</span> の変化を0.5秒かけてスムーズに実行します。<br>
   <span class="codecolor">ease</span> は変化が始めはゆっくりで中間は速く、終わりにまたゆっくりになるように設定するイージング関数です。
  </p>
  <p>
   このトランジションを使うことで、タブの内容が切り替わる際にアニメーション効果が適用され、ユーザーにとって視覚的に不自然な感覚を与えません。
  </p>


  <p class="codegra" id="tab_js">タブを作るtab.js</p>
  <div class="code-container">
   <pre><code class="language-javascript">
document.addEventListener('DOMContentLoaded', () => {
 const tabsFein = document.querySelectorAll('.tab-fein');
 const tabPanesFein = document.querySelectorAll('.tab-pane-fein');

 tabsFein.forEach(tab => {
  tab.addEventListener('click', () => {
   const target = document.getElementById(tab.getAttribute('data-tab'));

   tabsFein.forEach(tab => {
    tab.classList.remove('active');
   });

   tabPanesFein.forEach(pane => {
    pane.classList.remove('active');
   });

   tab.classList.add('active');
   target.classList.add('active');
  });
 });

 document.querySelector('.tab-fein').classList.add('active');
 document.getElementById('pane1-fein').classList.add('active');
});

</code></pre>
  </div>

  <p>このJavaScriptコードについては、きちんと書いた方が良さそう。<br>
   初めてこのタイプのコードにチャレンジしたときには、私は紙にぜんぶ書きださないと分からなかったです。<br>
   では、次の順番に説明していきます。</p>
  <ol>
   <li>DOMContentLoadedイベント</li>
   <li>要素の選択</li>
   <li>イベントリスナーの追加</li>
   <li>クラスの切り替え</li>
   <li>初期状態の設定</li>
  </ol>

  <p class="gra">1. DOMContentLoadedイベント</p>
  <div class="code-container">
   <pre><code class="language-javascript">
document.addEventListener('DOMContentLoaded', () => {
// コードの内容
});

</code></pre>
  </div>

  <p>
   <span class="codecolor">DOMContentLoaded</span>イベントは、HTML文書が完全に読み込まれ、解析された時点で発生します。
  </p>
  <p>
   このイベントはページ全体の読み込みが完了するのを待たずに、DOMの構造が読み込まれた時点で発生します。<br>
   これでスクリプトの実行を早めることができます。
  </p>

  <p class="gra">2. 要素の選択</p>
  <div class="code-container">
   <pre><code class="language-javascript">
const tabsFein = document.querySelectorAll('.tab-fein');
const tabPanesFein = document.querySelectorAll('.tab-pane-fein');

</code></pre>
  </div>

  <p>
   <span class="codecolor">querySelectorAll</span>メソッドは、指定されたCSSセレクターに一致する全ての要素を選択し、<span
    class="codecolor">NodeList</span>オブジェクトとして返します。
  </p>
  <p>
   ここでは、<span class="codecolor">.tab-fein</span>クラスと<span class="codecolor">.tab-pane-fein</span>クラスを持つ要素をそれぞれ取得しています。
  </p>

  <p class="gra">3. イベントリスナーの追加</p>
  <div class="code-container">
   <pre><code class="language-javascript">
tabsFein.forEach(tab => {
tab.addEventListener('click', () => {
// コードの内容
});
});

</code></pre>
  </div>

  <p>
   <span class="codecolor">forEach</span>メソッドを使って、全てのタブ要素に対してクリックイベントリスナーを追加しています。
  </p>
  <p>
   <span class="codecolor">addEventListener</span>メソッドは、指定されたイベント（ここでは<span
    class="codecolor">click</span>）が発生したときに実行される関数を登録します。
  </p>

  <p class="gra">4. クラスの切り替え</p>
  <div class="code-container">
   <pre><code class="language-javascript">
const target = document.getElementById(tab.getAttribute('data-tab'));

tabsFein.forEach(tab => {
tab.classList.remove('active');
});

tabPanesFein.forEach(pane => {
pane.classList.remove('active');
});

tab.classList.add('active');
target.classList.add('active');

</code></pre>
  </div>

  <p>
   <span class="codecolor">getElementById</span>メソッドを使って、クリックされたタブの<span
    class="codecolor">data-tab</span>属性値と一致する要素を取得しています。
  </p>
  <p>
   <span class="codecolor">classList</span>オブジェクトを使って、全てのタブとタブの内容から<span
    class="codecolor">active</span>クラスを削除し、クリックされたタブとその内容に<span class="codecolor">active</span>クラスを追加しています。
  </p>

  <p class="gra">5. 初期状態の設定</p>
  <div class="code-container">
   <pre><code class="language-javascript">
document.querySelector('.tab-fein').classList.add('active');
document.getElementById('pane1-fein').classList.add('active');

</code></pre>
  </div>

  <p>
   最初のタブとその内容を初期状態でアクティブにするために、<span class="codecolor">active</span>クラスを追加しています。
  </p>

  <p>これが全体の流れです。<br>
   このコードはタブをクリックすると対応する内容が表示され、他のタブとその内容が非アクティブになるように動作します。<br>
   ちょっと感覚的に分かりにくいかもしれませんが、１行ずつ読んでいけば、自然と全体が見えてきます。</p>


  <h2>PythonでタブUIを実装する</h2>

  <div class="flowerclearfix">
   <div class="flowerfade-out">
    <img src="/flower2/flower2(55).JPG" alt="フェードアウト効果の草花写真">
   </div>
   <p>次はBrython（ブリトン）でタブUIの実装を試みます。<br>
    Pythonのシンプルな文法を使ってフロントエンドの機能を実装でき、JavaScriptを深いレベルで学ぶ必要がなくなります。<br>
    Pythonの知識だけでフロントエンド開発ができるツールなんですよね。<br>
    JavaScriptに比べると若干パフォーマンスが劣るようですが、軽微なUIなら支障はありません。<br>
    Pythonライブラリや機能にしても、全てを扱う必要はないのですから。</p>
  </div>

  <h5>Brython（Browser Pythonの略）について</h5>
  <div class="flowerclearfix">
   <div class="flowerfade-out">
    <img src="/flower2/flower2(65).JPG" alt="フェードアウト効果の草花写真">
   </div>
   <p>Pythonのコードを直接ブラウザ上で実行するためのライブラリです。<br>
    JavaScriptの代わりにPythonを使用してフロントエンド開発を行うことができます。<br>
    BrythonはPython 3の多くの機能をサポートしており、Pythonの標準ライブラリの一部も使用できます。<br>
    方法は単純で、アナデンで使われているLuaを動かした時と同じように、HTMLファイルにスクリプトタグを追加するだけです。</p>
  </div>

  <p>さっそくコードを見てみましょう。</p>

  <h3>BrythonのJSファイルを取得して関連付ける</h3>
  <p>アナデンで使われているLuaを実装した時と似ています。<br>
   ひとまず実行環境を用意してあげないと、Pythonがブラウザ上で動作しません。</p>
  <p class="codegra" id="pythontab_html1">Brythonをhtmlファイルと関連付けるコード</p>
  <div class="code-container">
   <pre><code class="language-html">
&lt;head&gt;
 &lt;script src=&quot;/script/brython.js&quot;&gt;&lt;/script&gt;
 &lt;script src=&quot;/script/brython_stdlib.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;

</code></pre>
  </div>

  <p>もうHTML・CSS・JavaScriptによるサイト構築の基礎についてはご存じのものとして話を進めます。</p>
  <p>上記のように設定することで、Brythonの主要な機能と標準ライブラリを含めることができます。<br>
   両方のファイルを使うとBrythonをフルに活用することができますよ。<br>
   JavaScriptファイルの設置場所は御自身のサイトに合うようにパスを修正してください。</p>


  <div class="flowerclearfix">
   <div class="flowerfade-out">
    <img src="/flower2/flower2(66).JPG" alt="フェードアウト効果の草花写真">
   </div>
   <p>まず、<a href="https://brython.info/">Brython公式サイト</a>から、<a
     href="https://github.com/brython-dev/brython/releases">githubのBrythonリリースページ</a>へ移動します。<br>
    そのサイトから「Brython-3.13.0.zip」をダウンロードします。<br>
    zipを解凍すると、次のファイルが出てきます。</p>

   <dl>
    <dt>brython.js</dt>
    <dd>Brythonの主要なスクリプトで、PythonコードをJavaScriptに変換して実行します。<br>
     これがなければ、Brythonは動作しません。</dd>
    <dt>brython_stdlib.js</dt>
    <dd>Brythonの標準ライブラリを含むスクリプトです。<br>
     Pythonの標準ライブラリの機能をブラウザ上で利用するために必要です。</dd>
   </dl>

   <p>インターネット越しにBrythonを使うこともできますが、自分のサイトのディレクトリに入れちゃった方が後がラクかと思います。</p>
  </div>

  <h3>HTMLの中にPythonを含める</h3>
  <div class="flowerclearfix">
   <div class="flowerfade-out">
    <img src="/flower2/flower2(67).JPG" alt="フェードアウト効果の草花写真">
   </div>
   <p>長くなるから、まだここではPythonまでは書かれていません。<br>
    いったんhtml部分のみ記載しています。<br>
    ポイントとなるのは、Brythonを使用してブラウザ内でPythonコードを実行しているところです。<br>
    DOMの操作やイベントハンドリングを行う構成としてみました。<br>
    JavaScriptはBrythonの初期化を行っているだけなので、主なロジックはPythonスクリプトに依存しています。</p>
  </div>

  <p class="codegra" id="pythontab_html2">タブUIの骨組みとなるhtmlコード</p>
  <div class="code-container">
   <pre><code class="language-html">
&lt;div class=&quot;atelier-container&quot;&gt;
 &lt;div class=&quot;atelier-tabs&quot;&gt;
  &lt;div class=&quot;atelier-tab&quot; data-tab=&quot;1&quot;&gt;Tab 1&lt;/div&gt;
  &lt;div class=&quot;atelier-tab&quot; data-tab=&quot;2&quot;&gt;Tab 2&lt;/div&gt;
  &lt;div class=&quot;atelier-tab&quot; data-tab=&quot;3&quot;&gt;Tab 3&lt;/div&gt;
 &lt;/div&gt;
 &lt;div class=&quot;atelier-tab-content&quot; data-content=&quot;1&quot;&gt;Content for Tab 1&lt;/div&gt;
 &lt;div class=&quot;atelier-tab-content&quot; data-content=&quot;2&quot;&gt;Content for Tab 2&lt;/div&gt;
 &lt;div class=&quot;atelier-tab-content&quot; data-content=&quot;3&quot;&gt;Content for Tab 3&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;atelier-container&quot;&gt;
 &lt;div class=&quot;atelier-tabs&quot;&gt;
  &lt;div class=&quot;atelier-tab&quot; data-tab=&quot;4&quot;&gt;Tab 4&lt;/div&gt;
  &lt;div class=&quot;atelier-tab&quot; data-tab=&quot;5&quot;&gt;Tab 5&lt;/div&gt;
  &lt;div class=&quot;atelier-tab&quot; data-tab=&quot;6&quot;&gt;Tab 6&lt;/div&gt;
 &lt;/div&gt;
 &lt;div class=&quot;atelier-tab-content&quot; data-content=&quot;4&quot;&gt;Content for Tab 4&lt;/div&gt;
 &lt;div class=&quot;atelier-tab-content&quot; data-content=&quot;5&quot;&gt;Content for Tab 5&lt;/div&gt;
 &lt;div class=&quot;atelier-tab-content&quot; data-content=&quot;6&quot;&gt;Content for Tab 6&lt;/div&gt;
&lt;/div&gt;

&lt;script type=&quot;text/python&quot;&gt;
python部分はここではいったん省略
&lt;/script&gt;

&lt;script&gt;
 window.addEventListener(&#x27;load&#x27;, () =&gt; {
  brython({ debug: 1, selector: &quot;.atelier-container&quot; });
 });
&lt;/script&gt;

</code></pre>
  </div>

  <p>このコードの概要をざっと説明します。</p>
  <p class="gra">HTMLの構造</p>
  <dl>
   <dt>タブコンテナ（.atelier-container）</dt>
   <dd>2つのタブコンテナがあり、それぞれに複数のタブ（.atelier-tab）とタブコンテンツ（.atelier-tab-content）が含まれています。</dd>

   <dt>タブ（.atelier-tab）</dt>
   <dd>各タブは data-tab 属性で識別され、クリックすると対応するコンテンツが表示されます。</dd>

   <dt>タブコンテンツ（.atelier-tab-content）</dt>
   <dd>各タブに対応するコンテンツで、data-content 属性によってどのタブに対応するかが示されています。</dd>
  </dl>

  <p class="gra">Pythonスクリプト（省略されている部分）</p>
  <div class="flowerclearfix">
   <div class="flowerfade-out">
    <img src="/flower2/flower2(68).JPG" alt="フェードアウト効果の草花写真">
   </div>
   <p>タブのクリックイベントを処理し、対応するタブコンテンツの表示・非表示を制御するロジックなどが含まれています。（後述します）</p>

   <p class="gra">JavaScriptの部分</p>
   <p>ページの読み込み時にBrythonが初期化され、.atelier-container 内でPythonコードが実行されます。<br>
    動作の流れとしては、次のような感じです。</p>
   <ol>
    <li>ページが読み込まれると、Brythonライブラリが初期化されます。</li>
    <li>各タブをクリックすると、Pythonスクリプトによって対応するタブコンテンツが表示されます。</li>
    <li>非アクティブなタブコンテンツは非表示になります。</li>
   </ol>
  </div>

  <h3>Pythonコードの紹介</h3>
  <p>いよいよここからPythonコードです。<br>
   個人的にはJavaScriptでタブUIを作るよりラクだと感じるけど、まぁ好みかな？<br>
   まずは簡単にさらーっと説明しますね。</p>

  <div class="flowerclearfix">
   <div class="flowerfade-out">
    <img src="/flower2/flower2(69).JPG" alt="フェードアウト効果の草花写真">
   </div>
   <p class="gra">タブ切り替えの説明</p>
   <p>このコードは、タブをクリックすると、それに対応するコンテンツ（中身）を表示するものです。</p>

   <dl>
    <dt>タブを準備</dt>
    <dd>タブ（ボタンみたいなもの）とその中身（コンテンツ）をまとめておきます。</dd>

    <dt>タブをクリックすると</dt>
    <dd>クリックされたタブを「アクティブ（選ばれた）」状態にして、そのタブの中身を表示するために準備します。</dd>

    <dt>アニメーションをつける</dt>
    <dd>タブの中身がスライドして出てくる動きをつけます。</dd>
   </dl>

   <p class="gra">全体の流れ</p>

   <ul>
    <li>ページを読み込むときに、最初のタブとその中身を表示します。</li>
    <li>それぞれのタブにクリックしたときの動きを設定します。</li>
    <li>タブをクリックすると、そのタブの中身がスライドして出てきます。</li>
   </ul>
  </div>

  <p>これで、タブを切り替えるたびに対応する中身がアニメーションと一緒に表示されるようになります。</p>

  <p class="codegra" id="pythontab_python">タブUIを作るPythonコード</p>
  <div class="code-container">
   <pre><code class="language-python">
from browser import document, timer

def show_tab(event):
 container = event.target.closest('.atelier-container')
 tabs = container.select('.atelier-tab')
 contents = container.select('.atelier-tab-content')

 for tab in tabs:
  tab.classList.remove('atelier-active-tab')
 for content in contents:
  content.classList.remove('atelier-active-content')
  content.style.transition = 'transform 1s ease-in-out, opacity 1s ease-in-out'
  content.style.transform = 'translateX(-100%)'
  content.style.opacity = '0'
  content.style.visibility = 'hidden'

 event.target.classList.add('atelier-active-tab')
 tab_id = event.target.getAttribute('data-tab')
 active_content = container.select(f'[data-content="{tab_id}"]')[0]
 active_content.classList.add('atelier-active-content')

 def show_content():
  active_content.style.visibility = 'visible'
  active_content.style.opacity = '1'
  active_content.style.transform = 'translateX(0)'

 timer.set_timeout(show_content, 50)

for container in document.select('.atelier-container'):
 tabs = container.select('.atelier-tab')
 if tabs:
  tabs[0].classList.add('atelier-active-tab')
  container.select('.atelier-tab-content')[0].classList.add('atelier-active-content')
  for tab in tabs:
      tab.bind('click', show_tab)

</code></pre>
  </div>

  <p>アニメーションについてはCSSでやっても良いと思うのですが、Luaと違ってPythonなら多少は慣れているので。<br>
   せっかくだからやってみましたよ。<br>
   ちなみにこのタブUIで用いられるJavaScriptとPythonコードは、１つのWebページにつき１カ所に書かれていれば良いです。<br>
   複数のタブを１つのWebページに実装しても、正常動作するようにしてあります。<br>
   では、ここからは少し詳しくいきます。</p>

  <p class="gra">必要なモジュールをインポート</p>

  <div class="code-container">
   <pre><code class="language-python">
from browser import document, timer

</code></pre>
  </div>

  <dl>
   <dt>document</dt>
   <dd>ウェブページのDOM（Document Object Model）にアクセスするためのモジュールです。</dd>

   <dt>timer</dt>
   <dd>時間を指定して関数を実行するためのモジュールです。</dd>
  </dl>

  <p class="gra">タブを表示する関数を定義</p>

  <div class="code-container">
   <pre><code class="language-python">
def show_tab(event):
    container = event.target.closest('.atelier-container')
    tabs = container.select('.atelier-tab')
    contents = container.select('.atelier-tab-content')

</code></pre>
  </div>

  <dl>
   <dt>show_tab関数</dt>
   <dd>タブがクリックされたときに呼び出されます。</dd>

   <dt>event.target</dt>
   <dd>クリックされたタブ要素を指します。</dd>

   <dt>closest('.atelier-container')</dt>
   <dd>クリックされたタブの親要素であるコンテナを取得します。</dd>

   <dt>tabs</dt>
   <dd>コンテナ内のすべてのタブを取得します。</dd>

   <dt>contents</dt>
   <dd>コンテナ内のすべてのタブコンテンツを取得します。</dd>
  </dl>

  <p class="gra">現在のアクティブなタブとコンテンツを非アクティブにする</p>

  <div class="code-container">
   <pre><code class="language-python">
for tab in tabs:
    tab.classList.remove('atelier-active-tab')
for content in contents:
    content.classList.remove('atelier-active-content')
    content.style.transition = 'transform 1s ease-in-out, opacity 1s ease-in-out'
    content.style.transform = 'translateX(-100%)'
    content.style.opacity = '0'
    content.style.visibility = 'hidden'

</code></pre>
  </div>

  <dl>
   <dt>for tab in tabs</dt>
   <dd>すべてのタブからatelier-active-tabクラスを削除します。</dd>

   <dt>for content in contents</dt>
   <dd>すべてのタブコンテンツからatelier-active-contentクラスを削除します。</dd>
  </dl>

  <p>ここで、タブコンテンツに対してアニメーション（スライドアウトとフェードアウト）を設定します。</p>

  <p class="gra">クリックされたタブをアクティブにし、対応するコンテンツを表示</p>

  <div class="code-container">
   <pre><code class="language-python">
event.target.classList.add('atelier-active-tab')
tab_id = event.target.getAttribute('data-tab')
active_content = container.select(f'[data-content="{tab_id}"]')[0]
active_content.classList.add('atelier-active-content')

</code></pre>
  </div>

  <dl>
   <dt>event.target.classList.add('atelier-active-tab')</dt>
   <dd>クリックされたタブをアクティブにします。</dd>

   <dt>tab_id</dt>
   <dd>クリックされたタブのdata-tab属性の値を取得します。</dd>

   <dt>active_content</dt>
   <dd>対応するタブコンテンツを取得します。</dd>

   <dt>active_content.classList.add('atelier-active-content')</dt>
   <dd>対応するコンテンツをアクティブにします。</dd>
  </dl>

  <p class="gra">遅延してコンテンツを表示</p>

  <div class="code-container">
   <pre><code class="language-python">
def show_content():
    active_content.style.visibility = 'visible'
    active_content.style.opacity = '1'
    active_content.style.transform = 'translateX(0)'

timer.set_timeout(show_content, 50)

</code></pre>
  </div>

  <dl>
   <dt>show_content関数</dt>
   <dd>アクティブなタブコンテンツを表示するためのものです。</dd>

   <dt>timer.set_timeout(show_content, 50)</dt>
   <dd>50ミリ秒後にshow_content関数を実行します。</dd>
  </dl>

  <p class="gra">最後のforから始まっている部分</p>
  <div class="code-container">
   <pre><code class="language-python">
for container in document.select('.atelier-container'):
 tabs = container.select('.atelier-tab')
 if tabs:
  tabs[0].classList.add('atelier-active-tab')
  container.select('.atelier-tab-content')[0].classList.add('atelier-active-content')
  for tab in tabs:
   tab.bind('click', show_tab)

</code></pre>
  </div>
  <p>ここなんだよねー<br>
   これはですねー…ウェブページ内のすべての「atelier-container」をループしているのです。<br>
   アナザーエデンで言うところの、<strong>ループ攻略</strong>ですよ！</p>

  <p>ちょっと詳しめにいきましょう。</p>

  <p><strong>ウェブページ内のすべてのatelier-containerをループ</strong></p>
  <div class="code-container">
   <pre><code class="language-python">
for container in document.select('.atelier-container'):

</code></pre>
  </div>
  <p>このコードはウェブページ内にあるすべての .atelier-container クラスを持つ要素を見つけて、それぞれに対して同じ処理を行うためのループです。<br>
   簡単に言うと、ページにあるすべての「タブコンテナ」を順番に処理します。</p>


  <p><strong>初期設定として、最初のタブとタブコンテンツをアクティブに</strong></p>
  <div class="code-container">
   <pre><code class="language-python">
if tabs:
    tabs[0].classList.add('atelier-active-tab')
    container.select('.atelier-tab-content')[0].classList.add('atelier-active-content')

</code></pre>
  </div>
  <p>このコードはタブコンテナ内にタブ (.atelier-tab) が存在するかを確認しています (if tabs:)。<br>
   もしタブが存在する場合、最初のタブ (tabs[0]) に atelier-active-tab クラスを追加して、それをアクティブ（選択された状態）にします。<br>
   同様に、最初のタブコンテンツにも atelier-active-content クラスを追加して表示されるようにします。<br>
   このコードがないと、ページがロードされたときに最初のタブとその内容が表示されなくなってしまうのです。</p>


  <p><strong>各タブにクリックイベントをバインドし、タブがクリックされたときに show_tab 関数を実行します</strong></p>
  <div class="code-container">
   <pre><code class="language-python">
for tab in tabs:
    tab.bind('click', show_tab)

</code></pre>
  </div>
  <p>このコードはコンテナ内のすべてのタブ（.atelier-tab）に対して、クリックイベント（クリックされたときに起こる処理）を設定しています。<br>
   tab.bind('click', show_tab) は、各タブをクリックしたときに show_tab 関数を実行するように設定しています。<br>
   つまり、タブがクリックされると、そのタブに対応するコンテンツを表示する処理が実行されるってこと。</p>


  <h3>装飾要素のCSSコード</h3>
  <p>CSSはプログラミング風に考えると余計にこんがらがるので、単純にコメントアウトを付けてコードを紹介します。</p>

  <p class="codegra" id="pythontab_style">タブUIを装飾するstyle.css</p>
  <div class="code-container">
   <pre><code class="language-css">
/* タブのスタイル */
.atelier-tab {
 display: inline-block; /* タブをインラインブロックに設定 */
 margin: 0 5px; /* タブ間の左右マージンを5pxに設定 */
 padding: 10px 20px; /* タブ内のパディングを上下10px、左右20pxに設定 */
 border: 1px solid #ccc; /* タブの境界線を1pxの実線で#cccの色に設定 */
 cursor: pointer; /* マウスカーソルをポインターに変更 */
 border-top-left-radius: 10px; /* 左上の角を10pxの円弧に設定 */
 border-top-right-radius: 10px; /* 右上の角を10pxの円弧に設定 */
 background-color: rgba(144, 238, 144, 0.5); /* 背景色を半透明のライトグリーンに設定 */
}

/* タブコンテンツのスタイル */
.atelier-tab-content {
 display: none; /* デフォルトでは表示しない */
 padding: 20px; /* コンテンツ内のパディングを20pxに設定 */
 border-top: none; /* 上部の境界線をなしに設定 */
 border: 1px solid #ccc; /* コンテンツの境界線を1pxの実線で#cccの色に設定 */
 border-radius: 10px; /* 角を10pxの円弧に設定 */
 box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* コンテンツに影を付ける */
 background-color: #fff; /* 背景色を白に設定 */
}

/* アクティブなタブのスタイル */
.atelier-active-tab {
 background-color: rgba(144, 238, 144, 1); /* 背景色を不透明のライトグリーンに設定 */
}

/* アクティブなタブコンテンツのスタイル */
.atelier-active-content {
 display: block; /* アクティブなコンテンツを表示 */
}

</code></pre>
  </div>

  <p>要するに、このCSSは「タブ」と「タブの中身」について、それぞれデザインしているのです。<br>
   <a href="/contents/no_copying.html">AI学習や無断転載を防ぐプログラムの小ネタ集</a>ではJavaScriptを用いて青色のタブUIを実装しました。<br>
   ここではPythonだから、緑色のタブUIにしてみたんだよね。
  </p>

  <h2>JavaScript以外の言語でも実装可能</h2>
  <p>こういうのはフレームワークを使うのが普通ですが、ちょっとした変化球ですよね。</p>

  <div class="flowerclearfix">
   <div class="flowerfade-out">
    <img src="/flower2/flower2(70).JPG" alt="フェードアウト効果の草花写真">
   </div>
   <p>html・css・JavaScriptでタブUIを作るのは一般的過ぎて退屈だから、このサイトのランタイムであるPythonを使ってやってみました。<br>
    本来ならサーバー側で使う言語でも、こうやってフロントで動かせるのはおもしろいですよね。<br>
    でもできるものとそうでないものがある。</p>

   <p>タグUIは便利ですよ？<br>
    冗長になりがちな記述を無理に縮めることなく収められますし、見た目もスッキリするからね。</p>
  </div>

  <!-- ●ここから人間用のフッター● -->
  <hr id="feinhr">
  <div class="spacer"></div>

  <section class="sitemap">
   <h2 class="sitemap_heading">サイトマップ</h2>
   <p><a href="/another-eden/anaden_sitemap.html"><i class="fas fa-sitemap"></i>
     アナザーエデン関連ページ・サイトマップ</a></p>
   <p>アナザーエデンの強敵戦やストーリーコンテンツのリスト、お勧めバッジなどを掲載したコーナーです。<br>
    期間限定のない普通のRPGですので、初心者でも安心して続けていけるゲームとなっています。<br>
    もっとも重要なグラスタについては、場所別に網羅した表があります。</p>


   <div class="spacer"></div>
   <p><a href="/contents/site_create.html"><i class="fas fa-sitemap"></i>
     個人サイトのホスティングとコンテンツ作成</a></p>
   <p>個人でウェブサイトを作るにはどうすればいいか。<br>
    HTML・CSS・JavaScriptの書き方はもちろん、無料かつ広告なしでホームページを作る方法を掲載したコーナーです。<br>
    Webデザインやレイアウトについても書いてあります。</p>
   <div class="spacer"></div>
   <p><a href="/fish/fish_sitemap.html"><i class="fas fa-sitemap"></i>魚釣りなどアウトドアのエリア</a></p>
   <p>ゲームとパソコンだけじゃなく、アウトドアも趣味なんです。<br>
    このコーナーでは魚釣りの記録とか、魚料理のレシピ、はたまたサイクリングなどなど。<br>
    アウトドアに関連するコンテンツが詰め込まれています。</p>

  </section>

  <!-- ページ上部へ戻るボタン -->
  <button id="scrollToTopBtn" onclick="scrollToTop()">ページ上部へ戻る</button>
  <script src="/script/feinScroll.js"></script>

  <div class="spacer"></div>

  <footer>
   <!--common google digital leader-->

   <div id="commongdl"></div>
   <script src="/externalization/common.js"></script>

   <div class="spacer"></div>

   <!--w3cバリデーターに合格していることを示す-->
   <div class="w3ccheck">
    <a href="https://validator.w3.org/nu/?doc=https://fein-sites-dev1.ew.r.appspot.com/contents/tabui.html">
     <img src="/image/HTML5_Logo_64.png" alt="Valid HTML5" height="31" style="width: auto;">
    </a>
    <a href="https://validator.w3.org/nu/?doc=https://fein-sites-dev1.ew.r.appspot.com/css/style.css">
     <img style="border:0;width:88px;height:31px" src="/image/vcss-blue.png" alt="正当なCSSです!">
    </a>
   </div>
   <!--w3cバリデーターに合格していることを示す-->

   <div class="spacer"></div>
   <p class="portal" id="updated-date">この <a href="https://fein-sites-dev1.ew.r.appspot.com/">fein's personal
     site</a> は、2023/7/4に開設された <a href="https://sites.google.com/view/feins-portal/">fein's portal</a>
    を母体として、yyyy/mm/ddに至るまで更新し続けられています。</p>
   <script>
    document.addEventListener('DOMContentLoaded', function () {
     const today = new Date();
     const year = today.getFullYear();
     const month = String(today.getMonth() + 1).padStart(2, '0');
     const day = String(today.getDate()).padStart(2, '0');
     const dateElement = document.getElementById('updated-date');
     dateElement.innerHTML = `この <a href="https://fein-sites-dev1.ew.r.appspot.com/">fein's personal site</a> は、2023/7/4に開設された <a href="https://sites.google.com/view/feins-portal/">fein's portal</a> を母体として、${year}/${month}/${day}に至るまで更新し続けられています。`;
    });
   </script>

  </footer>

 </div><!--レスポンシブデザイン-->

 <script src="/script/feinheadline1.js"></script><!--見出しの自動生成-->

 <!-- ●ここまで人間用のフッター。直下でbodyを閉める● -->
</body>

</html>
